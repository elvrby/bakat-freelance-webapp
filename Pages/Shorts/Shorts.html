<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="Shorts.css" />
    <title>Shorts</title>
  </head>
  <body>
    <div class="content">
      <header>
        <div class="NavigasiMenuHeadAtas">
          <div class="NavigasiMenu">
            <div class="LogoNavigasiMenuAtas">
              <h1>Shorts</h1>
            </div>
          </div>
        </div>
      </header>

      <div class="Badan">
        <div class="DisplayShorts">
          <div class="DisplayShortsFrame">
            <div class="ShortsVideoFrame">
              <div class="ShortsVideo">
                <video id="videoPlayer" src="../../Videos/AShort.mp4"></video>
                <div class="ShortsVideoAktifitasUser">
                  <div class="SVAU_InfoUser">
                    <div class="SVAU_User">
                      <span>Blender3DArts</span>
                      <button>Follow</button>
                    </div>
                    <div class="SVAU_UserDeskripsi">
                      <span
                        >3D Anime Style dengan view Kota Tokyo Jepang #anime #3D
                        3D Modeling #Jepang</span
                      >
                    </div>
                  </div>
                  <div class="SVAU_InteraksiMenu">
                    <div class="SVAU_Likes">
                      <img src="../../Icon/Likes_Shorts.svg" alt="" />
                      <span>160k</span>
                    </div>
                    <div class="SVAU_Comment">
                      <img src="../../Icon/Comment_Shorts.svg" alt="" />
                      <span>60</span>
                    </div>
                    <div class="SVAU_Share">
                      <img src="../../Icon/Share_Shorts.svg" alt="" />
                      <span>60</span>
                    </div>
                  </div>
                </div>
              </div>

              <div class="ShortsVideo">
                <video id="videoPlayer" src="../../Videos/AShort1.mp4"></video>
                <div class="ShortsVideoAktifitasUser">
                  <div class="SVAU_InfoUser">
                    <div class="SVAU_User">
                      <span>Blender3DArts</span>
                      <button>Follow</button>
                    </div>
                    <div class="SVAU_UserDeskripsi">
                      <span
                        >Cinematic 3D Modeling #3D #3D Modeling #Blender
                        #Tutorial</span
                      >
                    </div>
                  </div>
                  <div class="SVAU_InteraksiMenu">
                    <div class="SVAU_Likes">
                      <img src="../../Icon/Likes_Shorts.svg" alt="" />
                      <span>160k</span>
                    </div>
                    <div class="SVAU_Comment">
                      <img src="../../Icon/Comment_Shorts.svg" alt="" />
                      <span>60</span>
                    </div>
                    <div class="SVAU_Share">
                      <img src="../../Icon/Share_Shorts.svg" alt="" />
                      <span>60</span>
                    </div>
                  </div>
                </div>
              </div>

              <div class="ShortsVideo">
                <video id="videoPlayer" src="../../Videos/AShort3.mp4"></video>
                <div class="ShortsVideoAktifitasUser">
                  <div class="SVAU_InfoUser">
                    <div class="SVAU_User">
                      <span>LightroomMaster</span>
                      <button>Follow</button>
                    </div>
                    <div class="SVAU_UserDeskripsi">
                      <span
                        >Tutorial cara edit pencahayaan dan color grading pada
                        foto di Adobe Lightroom #Lightroom #Tutorial #trend
                        #photography
                      </span>
                    </div>
                  </div>
                  <div class="SVAU_InteraksiMenu">
                    <div class="SVAU_Likes">
                      <img src="../../Icon/Likes_Shorts.svg" alt="" />
                      <span>160k</span>
                    </div>
                    <div class="SVAU_Comment">
                      <img src="../../Icon/Comment_Shorts.svg" alt="" />
                      <span>60</span>
                    </div>
                    <div class="SVAU_Share">
                      <img src="../../Icon/Share_Shorts.svg" alt="" />
                      <span>60</span>
                    </div>
                  </div>
                </div>
              </div>

              <div class="ShortsVideo">
                <video id="videoPlayer" src="../../Videos/Shorts4.mp4"></video>
                <div class="ShortsVideoAktifitasUser">
                  <div class="SVAU_InfoUser">
                    <div class="SVAU_User">
                      <span>Artaddicted20</span>
                      <button>Follow</button>
                    </div>
                    <div class="SVAU_UserDeskripsi">
                      <span
                        >Maaf ya kalau gambarku jelek ðŸ˜­ #Shorts #Art #Anime
                        #Horimiya</span
                      >
                    </div>
                  </div>
                  <div class="SVAU_InteraksiMenu">
                    <div class="SVAU_Likes">
                      <img src="../../Icon/Likes_Shorts.svg" alt="" />
                      <span>160k</span>
                    </div>
                    <div class="SVAU_Comment">
                      <img src="../../Icon/Comment_Shorts.svg" alt="" />
                      <span>60</span>
                    </div>
                    <div class="SVAU_Share">
                      <img src="../../Icon/Share_Shorts.svg" alt="" />
                      <span>60</span>
                    </div>
                  </div>
                </div>
              </div>

              <div class="ShortsVideo">
                <video id="videoPlayer" src="../../Videos/AShort2.mp4"></video>
                <div class="ShortsVideoAktifitasUser">
                  <div class="SVAU_InfoUser">
                    <div class="SVAU_User">
                      <span>Heru_Piapi</span>
                      <button>Follow</button>
                    </div>
                    <div class="SVAU_UserDeskripsi">
                      <span
                        >12 prinsip animasi sering dianggap sepele bagi yang
                        baru belajar animasi, padahal disanalah fundamental
                        wajib yang harus dipahami dulu sebelum ingin membuat
                        animasi yang lebih keren #animasi #3d #3d modeling</span
                      >
                    </div>
                  </div>
                  <div class="SVAU_InteraksiMenu">
                    <div class="SVAU_Likes">
                      <img src="../../Icon/Likes_Shorts.svg" alt="" />
                      <span>160k</span>
                    </div>
                    <div class="SVAU_Comment">
                      <img src="../../Icon/Comment_Shorts.svg" alt="" />
                      <span>60</span>
                    </div>
                    <div class="SVAU_Share">
                      <img src="../../Icon/Share_Shorts.svg" alt="" />
                      <span>60</span>
                    </div>
                  </div>
                </div>
              </div>

              <div class="ShortsVideo">
                <video id="videoPlayer" src="../../Videos/AShort4.mp4"></video>
                <div class="ShortsVideoAktifitasUser">
                  <div class="SVAU_InfoUser">
                    <div class="SVAU_User">
                      <span>PresentasiDesign</span>
                      <button>Follow</button>
                    </div>
                    <div class="SVAU_UserDeskripsi">
                      <span
                        >Tutorial edit presentasi di canva #presentasi #canva
                        #design</span
                      >
                    </div>
                  </div>
                  <div class="SVAU_InteraksiMenu">
                    <div class="SVAU_Likes">
                      <img src="../../Icon/Likes_Shorts.svg" alt="" />
                      <span>160k</span>
                    </div>
                    <div class="SVAU_Comment">
                      <img src="../../Icon/Comment_Shorts.svg" alt="" />
                      <span>60</span>
                    </div>
                    <div class="SVAU_Share">
                      <img src="../../Icon/Share_Shorts.svg" alt="" />
                      <span>60</span>
                    </div>
                  </div>
                </div>
              </div>

              <div class="ShortsVideo">
                <video id="videoPlayer" src="../../Videos/Shorts7.mp4"></video>
                <div class="ShortsVideoAktifitasUser">
                  <div class="SVAU_InfoUser">
                    <div class="SVAU_User">
                      <span>Alfarabi</span>
                      <button>Follow</button>
                    </div>
                    <div class="SVAU_UserDeskripsi">
                      <span
                        >3D Modeling Karakter Honkai Star Rail #Shorts #Art
                        #Anime #HonkaiStarRail</span
                      >
                    </div>
                  </div>
                  <div class="SVAU_InteraksiMenu">
                    <div class="SVAU_Likes">
                      <img src="../../Icon/Likes_Shorts.svg" alt="" />
                      <span>160k</span>
                    </div>
                    <div class="SVAU_Comment">
                      <img src="../../Icon/Comment_Shorts.svg" alt="" />
                      <span>60</span>
                    </div>
                    <div class="SVAU_Share">
                      <img src="../../Icon/Share_Shorts.svg" alt="" />
                      <span>60</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!--        Mobile Fitur        -->
      <div class="MobileNavigasi">
        <div class="MobileNavigasiBox">
          <div class="MobileNavigasiBoxIcon">
            <div>
              <a href="../../home">
                <img src="../../Icon/Home.svg" alt="" />
              </a>
            </div>

            <div>
              <a href="../Search/Search.html">
                <img src="../../Icon/Search.svg" alt="" />
              </a>
            </div>

            <div>
              <a href="../Post/Post.html">
                <img src="../../Icon/Plus.svg" alt="" />
              </a>
            </div>

            <div>
              <a href="Shorts.html">
                <img src="../../Icon/Reels.svg" alt="" />
              </a>
            </div>

            <div>
              <a href="../Akun/user">
                <img src="../../Icon/Akun.svg" alt="" />
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Mendapatkan semua elemen video dalam .ShortsVideoFrame
    const videos = document.querySelectorAll(".ShortsVideo video");
    let currentVideo = null;

    function playCurrentVideo() {
      if (currentVideo) {
        currentVideo.currentTime = 0; // Memulai ulang video
        currentVideo
          .play()
          .catch((error) =>
            console.error("Autoplay tidak dapat dimainkan:", error)
          );
      }
    }
    // Memainkan video pertama saat halaman dimuat pertama kali
    currentVideo = videos[0];
    playCurrentVideo();

    function stopCurrentVideo() {
      if (currentVideo) {
        currentVideo.pause();
        currentVideo.currentTime = 0; // Mengatur posisi video ke awal
      }
    }

    function toggleVideoPlayPause(video) {
      if (video.paused) {
        video
          .play()
          .catch((error) =>
            console.error("Video tidak dapat dimainkan:", error)
          );
      } else {
        video.pause();
      }
    }

    // Menambahkan event listener untuk mendeteksi perubahan scroll
    document
      .querySelector(".ShortsVideoFrame")
      .addEventListener("scroll", () => {
        // Mendapatkan video yang sedang tampil dalam layar
        let visibleVideo = null;
        let smallestDifference = Infinity;
        videos.forEach((video) => {
          const bounds = video.getBoundingClientRect();
          const difference = Math.abs(bounds.top);
          if (difference < smallestDifference) {
            smallestDifference = difference;
            visibleVideo = video;
          }
        });

        // Memainkan video yang terlihat saat ini
        if (visibleVideo && visibleVideo !== currentVideo) {
          stopCurrentVideo(); // Menghentikan video yang sedang diputar sebelumnya
          currentVideo = visibleVideo;
          playCurrentVideo();
        }
      });

    // Memastikan video terus diputar jika user tetap di video yang sama
    videos.forEach((video) => {
      video.addEventListener("click", () => {
        toggleVideoPlayPause(video);
      });

      video.addEventListener("ended", () => {
        currentVideo = video;
        playCurrentVideo();
      });
    });
  });

  document.addEventListener("DOMContentLoaded", function () {
    const videoFrames = document.querySelectorAll(".ShortsVideoFrame");

    videoFrames.forEach((videoFrame) => {
      const videos = videoFrame.querySelectorAll("video");
      const activityUserElements = videoFrame.querySelectorAll(
        ".ShortsVideoAktifitasUser"
      );

      videos.forEach((video, index) => {
        const activityUserElement = activityUserElements[index];
        const videoBounds = video.getBoundingClientRect();

        // Menentukan posisi vertikal yang sesuai untuk elemen .ShortsVideoAktifitasUser
        const topPosition = videoBounds.top + videoBounds.height;
        activityUserElement.style.top = `${topPosition}px`;
      });
    });
  });

  document.addEventListener("DOMContentLoaded", function () {
    const videoFrames = document.querySelectorAll(".ShortsVideoFrame");

    videoFrames.forEach((videoFrame) => {
      const videos = videoFrame.querySelectorAll("video");
      const activityUserElements = videoFrame.querySelectorAll(
        ".ShortsVideoAktifitasUser"
      );

      videos.forEach((video, index) => {
        const activityUserElement = activityUserElements[index];
        const videoBounds = video.getBoundingClientRect();
        const activityUserBounds = activityUserElement.getBoundingClientRect();

        // Menentukan posisi vertikal yang sesuai untuk elemen .ShortsVideoAktifitasUser
        const topPosition =
          videoBounds.top +
          videoBounds.height / 1.48 -
          activityUserBounds.height / 2;
        activityUserElement.style.top = `${topPosition}px`;

        // Menentukan posisi horizontal yang sesuai untuk elemen .ShortsVideoAktifitasUser
        const leftPosition =
          videoBounds.left +
          videoBounds.width / 2 -
          activityUserBounds.width / 2;
        activityUserElement.style.left = `${leftPosition}px`;
      });
    });
  });
</script>
